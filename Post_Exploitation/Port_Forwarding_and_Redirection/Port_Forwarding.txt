<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Port Forwarding/Redirection</title>
</head><body><b><u>Port Forwarding/Redirection<br/>
<br/>
</u></b><b>Info:</b>&nbsp;Accept traffic on a given IP address and port and then redirect it to a different IP address and port. <br/>
<br/>
<b>Program: </b>rinetd<br/>
<br/>
<b>Set up</b><br/>
<br/>
root@kali:~# apt-get install rinetd <br/>
root@kali:~# cat /etc/rinetd.conf<br/>
<br/>
...<br/>
# bindadress bindport connectaddress connectport<br/>
...<br/>
<br/>
<b>Note</b>: <br/>
<br/>
bindaddress&#09;&#09;=&#09;address that the traffic will be sent to <br/>
bindport&#09;&#09;&#09;=&#09;port that the traffic will be sent to <br/>
connectaddress&#09;=&#09;address that the traffic will be sent to <br/>
connectport&#09;&#09;=&#09;port that the traffic will be sent to<br/>
<br/>
<b>Run:</b>&nbsp;<br/>
<br/>
root@kali:~# /etc/init.d/rinetd restart<br/>
<br/>
<br/>
<b>Usage</b><br/>
<br/>
<b>Situation:</b>&nbsp;Machine A cannot connect to the Webserver on Machine C due to its firewall only allowing outbound traffic on TCP port 53.<br/>
<br/>
Victim's machine&#09;&#09;Attacker's Machine &#09;&#09;&#09;&#09;&#09;Web server hosting files <ul><li style="list-style-type: none"></li>
</ul>
Machine A &lt;----------------&gt; Machine B &lt;---------------------------------------------&gt; Machine C<br/>
<br/>
Machine A &lt;-------------------&gt; w.y.x.z &lt;-------------------------------------------------&gt; a.b.c.d:80<br/>
<br/>
<br/>
<b>Machine B sets up rinetd to forward all traffic incoming on port 53 to the web server on Machine C (a.b.c.d port 80):</b>&nbsp;# w.x.y.z 53 a.b.c.d 80<br/>
<br/>
<b>Machine A connects to Machine B on port 53, which sends it's traffic on to the Webserver on Machine C: </b>http://w.x.y.z:53<br/>
<br/>
<br/>
<br/>
<br/>
</body></html>