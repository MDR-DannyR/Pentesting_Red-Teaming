<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>HTTP Tunneling</title>
</head><body><b>HTTP Tunneling<br/>
<br/>
</b><b>Info:</b>&nbsp;<br/>
Technique whereby a payload is encapsulated within the HTTP protocol. <br/>
Usually this is done as the body of a HTTP GET or POST request. <br/>
<br/>
When behind an HTTP proxy server, the CONNECT HTTP method (a variation of HTTP tunneling) can be used by the client to ask the proxy server to forward a TCP connection to a specific destination. <br/>
The proxy then makes the connection on behalf of the client. <br/>
Once the connection with the server is established, the proxy server continues to proxy the TCP stream to and from the client <br/>
<br/>
<b>From Client Machine</b><br/>
<br/>
<b>Connect to the proxy server on port 8888: <br/>
<br/>
</b>root@kali:~# nc -vvn 192.168.1.130 8888 <b># </b><br/>
<br/>
<b>Response from the proxy server:</b>&nbsp;<br/>
<br/>
(UNKNOWN) [192.168.1.130] 8888 (?) open &nbsp;<b># </b><br/>
<br/>
<b>CONNECT HTTP method. Asking the proxy server to forward a TCP connection to the destination</b>: <br/>
<br/>
CONNECT 10.11.1.203:80 HTTP/1.0 <b># </b><br/>
<br/>
<b>Porxy Server Response Connecion established:<br/>
<br/>
</b>HTTP/1.0 200 Connection established <br/>
Proxy-agent: tinyproxy/1.8.3<br/>
<br/>
<b>Command to send through the proxy server and through the TCP connection that was established<br/>
<br/>
</b>HEAD / HTTP/1.0 &#09;<br/>
<br/>
<b>Response from destination and through the proxy:<br/>
</b><br/>
HTTP/1.1 200 OK<br/>
Server: Microsoft-IIS/5.1<br/>
Content-Location: http://10.11.1.203/index.htm Date: Wed, 19 Jun 2013 11:21:34 GMT Content-Type: text/html<br/>
Accept-Ranges: bytes<br/>
Last-Modified: Wed, 19 Jun 2013 07:43:47 GMT ETag: "fa3a2bbbc06cce1:ac2"<br/>
Content-Length: 9<br/>
sent 53, rcvd 344</body></html>