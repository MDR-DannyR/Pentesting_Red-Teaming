# Networking Commands

| Command         | Description                                   |
| --------------- | --------------------------------------------- |
| watch ss -tp | Network connections                                    |
| netstat -ant  | Tcp connections -anu=udp                                   |
| netstat -tulpn  | Connections with PIDs                                     |
| lsof -i  | Established connections                                     |
| smb:// ip /share  | Access windows smb share                                 |
| share user x.x.x.x c$  | Mount Windows share |
| smbclient -U user \\\\ ip \\ share  | SMB connect                                    |
| ifconfig eth# ip I cidr | Set IP and netmask                              |
| ifconfig ethO:l ip I cidr  | Set virtual interface                                 |
| route add default gw gw_ip  | Set Gateway                      |
| export MAC=xx:xx:xx:xx:xx:xx       | Change MAC               |
| ifconfig int hw ether MAC     | Change MAC                                    |
| iwlist int scan      | Built-in wifi scanner                                    |
| dig -x ip      | Domain lookup for IP                                    |
| host ip      | Domain lookup for IP                                   |
| host -t SRV.com      | Domain SRV lookup                                    |
| dig @ ip domain -t AXFR      | DNS Zone Xfer                                    |
| host -l domain namesvr      | DNS Zone Xfer                                    |
| ip xfrm state list      | Print existing VPN keys                                    |
| ip addr add ip / cidr dev eth0      | Adds 'hidden' interface                                    |
| /var/log/messages &#124; grep DHCP       | List DHCP assignments                                    |
| tcpkill host ip and port port      | Block ip:port                                    |
| echo "1" /proc/sys/net/ipv4/ip forward      | Turn on IP Forwarding                                    |
| echo "nameserver x.x.x.x" /etc/resolv.conf  | Add DNS Server                                    |
| ifconfig  | View network information                                    |
| iptables <br> <br> iptables -I INPUT 1 -s 10.0.0.19 -j ACCEPT <br> iptables -I OUTPUT 1 -d 10.0.0.19 -j ACCEPT <br> <br> iptables -A INPUT -p tcp --destination-port 4444 \! -d 127.0.0.1 -j DROP <br> <br> iptables -Z <br> <br> iptables -vn -L | Monitor/Set rules for the network traffic <br> <br> Monitor traffic from target <br> Monitor traffic sent to target <br> <br> Deny traffic to a local port <br> <br> Reset iptables data <br> <br> Read iptables data |
