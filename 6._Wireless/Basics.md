# Basics

ieee80211 vs. mac80211

2 different wireless stacks for linux: ieee80211 is older. mac80211 is newer. 


## ieee80211 

```
iwconfig: manipulate the basic wireless parameters - change modes, channels, keys 
iwlist: initiation of scanning, list frequencies, bit rates and encryption keys 
iwspy: provides per-node link quality (sometimes not implemented by drivers) 
iwpriv: allows for manupulation of the wireless extensions specific to a driver. 
```

uses eth wifi and ath to interface names (sometimes VAP) 

## mac80211 

```
iw: manipulate the basic wireless parameters - change modes, channels, keys  (used instead of iwconfig) 
```

Many more commands to change the features are contained in the stack. 

## loading and unloading drivers 

Find out whether you are using the ieee80211 or mac80211 driver by using: 

```
iw list 
```

If the command fails it's because the wireless card is using ieee80211 stack. 
Find which drivers it's using by running 

```
airmon-ng
```

and then run the following command to unload the driver. 

```
rmmod %driver_name%
rmmod r8187
```

verify the device has been unloaded by running 

```
iwconfig 
```

and make sure there's no longer any wireless devices available. 

Then load the mac80211 stack for the device using the new drivers name: 

```
modprobe %driver_name% 
modeprobe rtl8187
```

## Find the channel numbers and corresponding frequencies the wireless interface can detect 

```
iwlist <interface name> frequency 
```

## Find a list of wireless access points

Just print out the SSID's
```
iw dev <interface name> scan | grep SSID 
```

Print out the SSIDs with channel numbers
```
iw dev <interface name> scan | egrep "DS\ Parameter\ set|SSID"
```

## Add a monitor interface and bring it up

```
iw dev <interface name> interface add mon0 type monitor
ifconfig mon0 up
```

confirm that the monitor interface is now up

```
iwconfig mon0 
```

## Verify all is working with the interface by sniffing some traffic 

```
tcpdump -i mon0 -s 65000 -p
```

## Delete the monitor interface and verify it's deleted 

``` 
iw dev mon0 interface del
iwconfig mon0
```



