<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Basics</title>
</head><body><b><u>Metasploit - Basics<br/>
<br/>
</u></b><b>msfconsole â€“ </b>This is an interactive console interface which is most commonly used to run regular tasks.<b><br/>
</b><b>armitage - </b>a third party add-on to the MSF providing a graphical user interface to the MSF.<br/>
<br/>
<br/>
<br/>
<br/>
<b>Start the postgresql service (MSF dependant on it):</b>&nbsp;root@kali:~# systemctl start postgresql<br/>
<br/>
<b>Start the postgresql service on boot:</b>&nbsp;root@kali:~# systemctl enable postgresql<br/>
<br/>
<br/>
<br/>
<b>Start the metasploit framework: </b>root@kali:~# msfconsole<br/>
<br/>
<b>Show help:</b>&nbsp;msf &gt; show -h<br/>
<br/>
<br/>
<br/>
<b>Display all hosts in the postgresql database:</b>&nbsp;msf &gt; hosts<br/>
<br/>
<b>Nmap scan hosts and inset the scan output into the msf database:</b>&nbsp;msf &gt; db_nmap 10.11.1.1-254<br/>
<br/>
<b>Search the database for machines with specific ports open: </b>msf &gt; services -p 443<br/>
<br/>
<b>set the rhosts value to the targets that have port 443 open: </b><br/>
<br/>
msf &gt; use auxiliary/scanner/smb/smb_version<br/>
msf auxiliary(smb_version) &gt; services -p 443 --rhosts<br/>
<br/>
<br/>
<b><br/>
<br/>
</b><b>Show all the sessions:</b>&nbsp;msf &gt; sessions<br/>
<br/>
<b>background the current meterpreter session: </b>meterpreter &gt; background<br/>
<br/>
<b>Return to a backgrounded session:</b>&nbsp;sessions -i 1<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<b>Multi-Handler</b><br/>
<br/>
<b>Info</b>:<br/>
<br/>
The MSF multi handler module can accept various incoming payloads and handles them correctly - including single and multi-stage payloads. <br/>
<br/>
<b>Commands</b>: <br/>
<br/>
msf &gt; use exploit/multi/handler<br/>
<br/>
msf exploit(handler) &gt; set PAYLOAD windows/meterpreter/reverse_https<br/>
<br/>
msf exploit(handler) &gt; show options<br/>
<br/>
msf exploit(handler) &gt; exploit<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
</body></html>